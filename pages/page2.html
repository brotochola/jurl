<style>

</style>

<span>
    <h1>page 2</h1>



    <j-if condition="{{showHiddenText()}}">
        <p>hidden text</p>
    </j-if>


    <j-if condition="{{state.showhidden2}}">
        <p>hidden text 2</p>
    </j-if>


    <button j-onclick="{{handleOnClickButton}}">change name</button>

    <hr>

    <p>first FOR tag:</p>
    <j-for arr="{{state.testarr}}">
        <p j-innerhtml="{{state.arr[i].name }}"> </p>
    </j-for>
    <hr>
    <!-- <p>second FOR tag:</p>
    <j-for arr="{{testArr}}">
        <p> {{arr[i].name}}</p>
    </j-for> -->

    <br>
    <button j-onclick="{{addItem}}">add item</button>


</span>



<script>
    class Page2 extends JURL.Component {


        addItem() {
            this.setState("testArr", [...this.getState("testArr"), { name: Math.random(), lastName: "Doe" }])
        }

        showHiddenText() {

            let name = this.getAttribute("name")
            return name == "juan"
        }

        onInit() {
            this.setState("testArr", [{ name: "john" }, { name: "charly" }, { name: "sarah" }])
            this.setState("name", "pedro")
            window.page2 = this
        }

        handleOnClickButton(e) {
            this.setState("name", "juan")
            this.setState("showHidden2", true)
        }
        onChange(e) {
            console.log("page 2 on change", e)
        }

    }

    JURL.instance.defineComponentsName(Page2, "app-page2")
</script>