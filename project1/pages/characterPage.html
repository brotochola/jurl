<style>
    li {
        letter-spacing: 2px;
    }
</style>


<page>


    <h1>Character Page</h1>

    <p j-innerhtml="{{state.routerData.name}}"></p>

    <p>origin: <span j-innerhtml="{{state.routerData.origin.name}}"></span> </p>
    <br>

    <img j-src="{{state.routerData.image}}">

    <p>Episodes:</p>
    <j-for arr="{{state.routerData.episode}}">
        <app-episode-item />
    </j-for>

</page>



<script type="module">
    import Component from "../lib/component.js"
    import { duplicate, wait } from "../lib/utils.js"
    import {App} from "../lib/app.js";

    class CharacterPage extends Component {




        async onInit() {

            // alert(1)
            //THE ROUTER DATA STATE IS GIVEN BY THE ROUTER

            await App.instance.loadComponent("components/episodeData.html")
            

            // debugger


            console.log("#on init character page", this.getState("routerdata"))
            this.onEnable()

        }

        onEnable() {


            let arrOfEpisodeDataItems = this.$("j-for").getAllChildrenComponents()
            arrOfEpisodeDataItems.forEach(compo => {
                compo.setState("showMore", false)
            });

        }





        onChange(e) {


        }

        onDestroy() {

        }

    }

</script>