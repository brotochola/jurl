<style></style>

<router>

  <div route="/jurl/holi1"> ruta 1 holi</div>


  <app-componente2 route="/jurl"></app-componente2>
  <div route="/jurl/holi2"> 222 2 22 22 3 3 3 3 3</div>

</router>




<script>




  class Router extends Component {
    constructor() {
      super();






      this.selectADivAndMakeItVisible()

      window.onpopstate = () => this.selectADivAndMakeItVisible();

      app.navigate = this.navigate
      // this.navigate("/jurl/rick")
    }

    hideAllElements() {
      this.$(":host > *:not(style) > *").map(k => k.style.display = "none")

    }

    selectADivAndMakeItVisible() {
      this.selectedElement = this.$("*[route='" + window.location.pathname + "']")
      if (!this.selectedElement && window.location.pathname.endsWith("/")) {
        this.selectedElement = this.$("*[route='" + window.location.pathname.substr(0, window.location.pathname.length - 1) + "']")
      } else if (!this.selectedElement && !window.location.pathname.endsWith("/")) {
        this.selectedElement = this.$("*[route='" + window.location.pathname + "/")
      }



      // console.log("##### ", window.location.pathname, this.selectedElement)
      this.hideAllElements()
      if (this.selectedElement instanceof HTMLElement) this.selectedElement.style.display = "block"
    }

    navigate = (pathname) => {
      window.history.pushState({}, pathname, window.location.origin + pathname);
      this.selectADivAndMakeItVisible()
    };
  }

  customElements.define("app-router", Router);

</script>